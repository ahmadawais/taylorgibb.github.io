<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>CSS Filters</title> <meta name="description" content="Last year i decided i was going to write a little application that allowed people to change certain properties pertaining to my Twitter profile picture. With..." /> <meta property="og:image" content="http://localhost:4000/assets/facebook.png"/> <link rel="icon" href="http://localhost:4000/assets/favicon.png"> <link rel="apple-touch-icon" href="http://localhost:4000/assets/touch-icon.png"> <link rel="stylesheet" href="http://localhost:4000/assets/core.css"> <link rel="canonical" href="http://localhost:4000/blog/css-filters"> <link rel="alternate" type="application/atom+xml" title="Taylor Gibb" href="http://localhost:4000/feed.xml" /> <link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet"> <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> </head> <body> <div class="logo-container"> <div class="logo-wrapper"> <img src="/assets/avatar.png" class="logo-avatar"> </div> </div> <div id="content"> <article> <div class="center"> <h1 class="title">CSS Filters</h1> <time class="code">April 3, 2019</time> </div> <div class="divider"></div> <p>Last year i decided i was going to write a little application that allowed people to change certain properties pertaining to my Twitter profile picture. With the introduction of CSS Filters, and in particular the <code class="highlighter-rouge">hue-rotate</code> function, i thought this was going to be a fairly trivial task. My plan was to use a combination of the <code class="highlighter-rouge">hue-rotate</code> and <code class="highlighter-rouge">rotate</code> CSS capabilities to manipulate an avatar on a webpage, and then submit the data to an Azure function that would in turn manipulate a raw copy of the image before publishing it to Twitter. The problem i quickly ran into is that the <code class="highlighter-rouge">hue-rotate</code> CSS Filter uses linear matrix approximation in the RGB colour space to perform the hue rotation and doesnt actually convert the values into HSV or HSL. This effectively meant that when i applied the same filter values using a server side image manipulation library i got completely different results, which my friends were quick to point out.</p> <p>You can read more about that particular issue <a href="https://stackoverflow.com/questions/19187905/why-doesnt-hue-rotation-by-180deg-and-180deg-yield-the-original-color">here</a>.</p> <p>I decided to give it another go this afternoon with great results. Ultimately i ended up using <a href="https://github.com/oliver-moran/jimp">Jimp</a> on the server and <a href="https://github.com/jseidelin/pixastic">Pixastic</a> on the client side. The source code for the web page can be found over <a href="https://github.com/taylorgibb/taylorgibb.github.io/blob/master/lab/avatar.md">here</a>, and the code for the function lives <a href="https://github.com/taylorgibb/taylorgibb.github.io/blob/master/functions/avatar/index.js">here</a>. If you feel the need, you can even head over to <a href="https://www.taylorgibb.com/lab/avatar.html">my lab and change the picture yourself</a>.</p> </article> </div> <div id="disqus_thread"></div> <script> var disqus_config = function () { this.page.url = "https://www.taylorgibb.com/blog/css-filters", this.page.identifier = "/blog/css-filters"; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://taylorgibb.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <script id="dsq-count-scr" src="//taylorgibb.disqus.com/count.js" async></script> <div class="footer"> <span class="block"><small>&lt;/&gt; Powered by <a href="https://jekyllrb.com/">Jekyll</a>, source code on <a href="https://github.com/taylorgibb/taylorgibb.github.io">Github</a></small></span> </div> </body> </html>
