<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Taylor Gibb</title> <meta name="description" content="0x2b || ~0x2b thats the real question" /> <meta property="og:image" content="http://localhost:4000/assets/facebook.png"/> <link rel="icon" href="http://localhost:4000/assets/favicon.png"> <link rel="apple-touch-icon" href="http://localhost:4000/assets/touch-icon.png"> <link rel="stylesheet" href="http://localhost:4000/assets/core.css"> <link rel="canonical" href="http://localhost:4000/lab/avatar"> <link rel="alternate" type="application/atom+xml" title="Taylor Gibb" href="http://localhost:4000/feed.xml" /> <link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet"> <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> </head> <body> <div id="content"> <script src="http://localhost:4000/assets/js/pixastic.js"></script> <script src="http://localhost:4000/assets/js/pixastic.effects.js"></script> <script src="http://localhost:4000/assets/js/pixastic.worker.js"></script> <div class="avatar-container"> <div class="avatar-preview"> <i style="color: white" class="fas fa-spinner fa-spin"></i> <canvas id="output-canvas"></canvas> <img style="display: none" id="avatar" src="/assets/avatar.png" /> </div> <div class="avatar-toggles"> <div class="toggle"> <label>Hue</label> <input class="slider" id="hue" type="range" min="0" max="360" /> </div> <div class="toggle"> <label>Rotation</label> <input class="slider" id="rotation" type="range" value="-14" min="-14" max="346" step="1" /> </div> </div> <div class="controls"> <button class="btn"> <span>Upload</span> <i style="display: none" class="fa fa-spinner fa-spin"></i> </button> </div> <div class="text"> <div> You can see the changes appear on my <a href="https://twitter.com/taybgibb">Twitter profile</a>. Source code can be viewed <a href="https://github.com/taylorgibb/taylorgibb.github.io">here</a>.</div> </div> </div> <script> $(document).ready(function() { var random = function(min, max) { min = Math.ceil(min); max = Math.floor(max); return Math.floor(Math.random() * (max - min + 1)) + min; }; var hue = random(0,360); var saturation = 0; var lightness = 0; var rotate = -14; var options = { hue : hue, saturation : saturation, lightness : lightness }; $('#hue').val(hue); $('#hue').on('change', function(){ options["hue"] = parseInt($(this).val(), 10) / 360; update(); }); $('#rotation').on('change', function(){ rotate = parseInt($(this).val(), 10); update(); }); function update(){ var img = document.getElementById("avatar"), canvas = document.getElementById("output-canvas"), ctx = canvas.getContext("2d"); canvas.style.display = "none"; canvas.width = img.width; canvas.height = img.height; ctx.drawImage(img, 0, 0); Px = new Pixastic(ctx); Px["hsl"](options).done(function() { setTimeout(function() { canvas.style.display = "block"; }, 200) }); $('#output-canvas').css({ 'transform': 'rotate(' + rotate + 'deg)' }); } $('button').click(function() { $('.controls button span').css({'display': 'none'}); $('.controls button i').css({'display': 'block'}); $.getJSON( `https://tweet-avatar.azurewebsites.net/api/avatar?code=XiwxXOWN3RcIaIgB10cK7KJrzoqJwaxlbyHktbTvgm9/QfM0IV33yA==&hue=${options["hue"]}&saturation=${options["saturation"]}&lightness=${options["lightness"]}&rotation=${rotate}`, function( data ) { $('.controls button span').css({'display': 'block'}); $('.controls button i').css({'display': 'none'}); }) }); $('#hue').trigger('change'); }); </script> <style> body { margin: 0; padding: 0; } </style> </div> </body> </html>
